# LearningLanguageBot โ ะกะฟะตัะธัะธะบะฐัะธั

Telegram-ะฑะพั ะดะปั ะธะทััะตะฝะธั ัะทัะบะพะฒ ะฟะพ ะฟัะธะฝัะธะฟั Anki ั ะฐะฒัะพะผะฐัะธัะตัะบะพะน ะณะตะฝะตัะฐัะธะตะน ะบะฐััะพัะตะบ.

---

## ะคะธะปะพัะพัะธั ะฟัะพะดัะบัะฐ

**Zero friction learning.** ะะพั ัะฐะผ ะฟัะธัะพะดะธั ะบ ัะตะฑะต ั ะบะฐััะพัะบะฐะผะธ โ ะฝะต ะฝัะถะฝะพ ะฝะธัะตะณะพ ะพัะบััะฒะฐัั ะธะปะธ ะทะฐะฟััะบะฐัั. ะัะฟัะฐะฒะธะป ัะปะพะฒะพ โ ะบะฐััะพัะบะฐ ะณะพัะพะฒะฐ. ะัะธัะปะพ ัะพะพะฑัะตะฝะธะต โ ะฟัะพััะป ะบะฐััะพัะบั ะฟััะผะพ ะฒ ัะฐัะต.

**ะะปััะตะฒัะต ัะตัะตะฝะธั:**
- ะะพั ะธะฝะธัะธะธััะตั ะพะฑััะตะฝะธะต (push-ะผะพะดะตะปั), ะฐ ะฝะต ะฟะพะปัะทะพะฒะฐัะตะปั
- ะะธะฝะฐัะฝะฐั ะพัะตะฝะบะฐ (ะทะฝะฐั/ะฝะต ะทะฝะฐั) โ ะผะธะฝะธะผัะผ ะบะพะณะฝะธัะธะฒะฝะพะน ะฝะฐะณััะทะบะธ
- DeepSeek ะดะปั ะฟะตัะตะฒะพะดะพะฒ ะธ ัะผะฝะพะณะพ ะธะทะฒะปะตัะตะฝะธั ัะปะพะฒ
- ะขะตะบััะพะฒัะน ะธะฝัะตััะตะนั, ะฝะธะบะฐะบะธั Mini App

---

## ะขะตัะฝะธัะตัะบะธะน ััะตะบ

| ะะพะผะฟะพะฝะตะฝั | ะขะตัะฝะพะปะพะณะธั             |
|-----------|------------------------|
| Runtime | .NET 9                 |
| Bot Framework | Telegram.Bot           |
| Database | PostgreSQL             |
| ORM | EF Core                |
| Background Jobs | Hangfire ะธะปะธ Quartz.NET |
| LLM | DeepSeek v3 API        |
| Hosting | VPS (Linux)            |
| Containerization | Docker + docker-compose |

---

## ะะพะดะตะปั ะดะฐะฝะฝัั (ะบะพะฝัะตะฟััะฐะปัะฝะฐั)

```
Users
โโโ TelegramId (PK)
โโโ NativeLanguage        // "ru"
โโโ TargetLanguage        // "en"
โโโ DailyGoal             // 20 ะฟะพ ัะผะพะปัะฐะฝะธั
โโโ ReviewMode            // "typing" | "reveal"
โโโ ReminderTimes[]       // ["09:00", "14:00", "20:00"]
โโโ TimeZone
โโโ TodayReviewed         // ัััััะธะบ ะฝะฐ ัะตะณะพะดะฝั
โโโ TodayDate             // ะดะปั ัะฑัะพัะฐ ัััััะธะบะฐ
โโโ CreatedAt

Cards
โโโ Id (PK)
โโโ UserId (FK)
โโโ Front                 // ัะปะพะฒะพ/ััะฐะทะฐ
โโโ Back                  // ะฟะตัะตะฒะพะด
โโโ Examples[]            // ะฟัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั
โโโ SourceLang
โโโ TargetLang
โโโ Repetitions           // SRS
โโโ EaseFactor            // SRS
โโโ IntervalDays          // SRS
โโโ NextReviewAt          // SRS
โโโ IsLearned             // ะดะปั ะฐะฝะฐะปะธะทะฐ "ะทะฝะฐะบะพะผัั" ัะปะพะฒ
โโโ CreatedAt

ReviewLogs
โโโ Id (PK)
โโโ CardId (FK)
โโโ Knew (bool)           // ะทะฝะฐะป ะธะปะธ ะฝะตั
โโโ ReviewedAt

UserStats
โโโ UserId (PK, FK)
โโโ TotalCards
โโโ LearnedCards
โโโ CurrentStreak
โโโ LongestStreak
โโโ LastActivityAt
โโโ WeeklyHistory[]       // JSON ั ะธััะพัะธะตะน ะฟะพ ะดะฝัะผ
```

---

## ะคะธัะธ

---

### F1: Onboarding

**ะัะธะพัะธัะตั:** P0

**ะฆะตะปั:** ะะฐัััะพะธัั ะฟะพะปัะทะพะฒะฐัะตะปั ะทะฐ 60 ัะตะบัะฝะด.

**User Story:**
> ะะฐะบ ะฝะพะฒัะน ะฟะพะปัะทะพะฒะฐัะตะปั, ั ัะพัั ะฑััััะพ ะฝะฐัััะพะธัั ะฑะพัะฐ ะธ ะฟะพะฝััั ะบะฐะบ ะธะผ ะฟะพะปัะทะพะฒะฐัััั.

**Flow:**

```
User: /start

Bot: ๐ ะัะธะฒะตั! ะฏ ะฟะพะผะพะณั ััะธัั ัะทัะบะธ ัะตัะตะท ะบะฐััะพัะบะธ.
     
     ะะฐะบะพะน ัะทัะบ ัะพัะตัั ะธะทััะฐัั?
     
     [๐ฌ๐ง ะะฝะณะปะธะนัะบะธะน]

User: [๐ฌ๐ง ะะฝะณะปะธะนัะบะธะน]

Bot: ะะฐะบ ะฑัะดะตะผ ะฟะพะฒัะพัััั ะบะฐััะพัะบะธ?
     
     ๐ ะะตัะฐัะฐัั ะพัะฒะตั โ ะฟะธัะตัั ะฟะตัะตะฒะพะด ัะฐะผ
     ๐ ะัะฟะพะผะธะฝะฐัั โ ัะผะพััะธัั ะธ ะพัะตะฝะธะฒะฐะตัั
     
     [๐ ะะตัะฐัะฐัั] [๐ ะัะฟะพะผะธะฝะฐัั]

User: [๐ ะัะฟะพะผะธะฝะฐัั]

Bot: ะกะบะพะปัะบะพ ะบะฐััะพัะตะบ ะฒ ะดะตะฝั?
     
     [10] [20] [30] [50]

User: [20]

Bot: ะะพะณะดะฐ ะฟัะธััะปะฐัั ะบะฐััะพัะบะธ?
     ะะพ ัะผะพะปัะฐะฝะธั: 9:00, 14:00, 20:00
     
     [โ ะะบ] [โ ะะฐัััะพะธัั]

User: [โ ะะบ]

Bot: ะะพัะพะฒะพ! ๐
     
     ะขะตะฟะตัั ะฟัะพััะพ ะพัะฟัะฐะฒั ะผะฝะต ัะปะพะฒะพ ะธะปะธ ััะฐะทั โ 
     ั ัะพะทะดะฐะผ ะบะฐััะพัะบั ั ะฟะตัะตะฒะพะดะพะผ ะธ ะฟัะธะผะตัะฐะผะธ.
     
     ะะปะธ ะพัะฟัะฐะฒั ัะตะบัั/ัะฐะนะป โ ะธะทะฒะปะตะบั ะฝะพะฒัะต ัะปะพะฒะฐ.
     
     ะะพะฟัะพะฑัะน ะฟััะผะพ ัะตะนัะฐั ๐
```

**Acceptance Criteria:**
- [ ] Inline-ะบะฝะพะฟะบะธ ะดะปั ะฒัะตั ะฒัะฑะพัะพะฒ
- [ ] ะกะพััะฐะฝะตะฝะธะต ะฝะฐัััะพะตะบ ะฒ ะะ ะฟะพัะปะต ะทะฐะฒะตััะตะฝะธั
- [ ] ะะฟัะตะดะตะปะตะฝะธะต ัะฐะนะผะทะพะฝั (ะทะฐะฟัะพัะธัั ะธะปะธ ะดะตัะพะปั Moscow)
- [ ] ะะพะทะผะพะถะฝะพััั ะฟัะพะนัะธ ะทะฐะฝะพะฒะพ ัะตัะตะท /settings

**ะขะตัะฝะธัะตัะบะธะต ะทะฐะผะตัะบะธ:**
- ะกะพััะพัะฝะธะต ะพะฝะฑะพัะดะธะฝะณะฐ ััะฐะฝะธัั ะฒ ะฟะฐะผััะธ (Dictionary ะธะปะธ Redis)
- Timeout 10 ะผะธะฝัั โ ะตัะปะธ ะฝะต ะทะฐะบะพะฝัะธะป, ัะฑัะพัะธัั ะฟัะธ ัะปะตะดัััะตะผ /start

---

### F2: ะกะพะทะดะฐะฝะธะต ะบะฐััะพัะบะธ ะธะท ัะปะพะฒะฐ/ััะฐะทั

**ะัะธะพัะธัะตั:** P0

**ะฆะตะปั:** ะะณะฝะพะฒะตะฝะฝะพ ัะพะทะดะฐัั ะบะฐััะพัะบั ะธะท ะปัะฑะพะณะพ ัะพะพะฑัะตะฝะธั.

**User Story:**
> ะะฐะบ ะฟะพะปัะทะพะฒะฐัะตะปั, ั ัะพัั ะพัะฟัะฐะฒะธัั ัะปะพะฒะพ ะธ ะฟะพะปััะธัั ะบะฐััะพัะบั ั ะฟะตัะตะฒะพะดะพะผ ะธ ะฟัะธะผะตัะฐะผะธ.

**Flow (ENโRU ะฝะฐะฟัะฐะฒะปะตะฝะธะต):**

```
User: challenge

Bot: ๐ ะะฐััะพัะบะฐ ัะพะทะดะฐะฝะฐ
     
     challenge โ ะฒัะทะพะฒ, ะธัะฟััะฐะฝะธะต
     
     ๐ ะัะธะผะตัั:
     โข This is a real challenge โ ะญัะพ ะฝะฐััะพััะธะน ะฒัะทะพะฒ
     โข I challenge you to try โ ะฏ ะฑัะพัะฐั ัะตะฑะต ะฒัะทะพะฒ ะฟะพะฟัะพะฑะพะฒะฐัั
     
     [โ๏ธ ะะตะดะฐะบัะธัะพะฒะฐัั]
```

**Flow (RUโEN ะฝะฐะฟัะฐะฒะปะตะฝะธะต):**

```
User: ัะฟัะฐะฒะธัััั

Bot: ๐ ะะฐััะพัะบะฐ ัะพะทะดะฐะฝะฐ
     
     ัะฟัะฐะฒะธัััั โ to cope, to handle, to manage
     
     ๐ ะัะธะผะตัั:
     โข I can handle this โ ะฏ ะผะพะณั ั ััะธะผ ัะฟัะฐะฒะธัััั
     โข She coped well with stress โ ะะฝะฐ ัะพัะพัะพ ัะฟัะฐะฒะปัะปะฐัั ัะพ ัััะตััะพะผ
     
     [โ๏ธ ะะตะดะฐะบัะธัะพะฒะฐัั]
```

**Acceptance Criteria:**
- [ ] ะะฒัะพะพะฟัะตะดะตะปะตะฝะธะต ัะทัะบะฐ ะฒัะพะดััะตะณะพ ัะพะพะฑัะตะฝะธั
- [ ] ะะตัะตะฒะพะด ะฒ ะพะฑัะฐัะฝะพะผ ะฝะฐะฟัะฐะฒะปะตะฝะธะธ (RUโEN ะธะปะธ ENโRU)
- [ ] 2-3 ะฟัะธะผะตัะฐ ะธัะฟะพะปัะทะพะฒะฐะฝะธั
- [ ] ะัะพะฒะตัะบะฐ ะฝะฐ ะดัะฑะปะธะบะฐั ะฟะตัะตะด ัะพะทะดะฐะฝะธะตะผ
- [ ] ะัะปะธ ะดัะฑะปะธะบะฐั โ ัะพะพะฑัะธัั "ะขะฐะบะฐั ะบะฐััะพัะบะฐ ัะถะต ะตััั" ะธ ะฟะพะบะฐะทะฐัั ะตั
- [ ] ะกะพััะฐะฝะตะฝะธะต ะบะฐััะพัะบะธ ัะพ ััะฐัััะพะผ "ะฝะพะฒะฐั" (NextReviewAt = now)
- [ ] ะะฝะพะฟะบะฐ ัะตะดะฐะบัะธัะพะฒะฐะฝะธั

**ะขะตัะฝะธัะตัะบะธะต ะทะฐะผะตัะบะธ:**
- ะะฟัะตะดะตะปะตะฝะธะต ัะทัะบะฐ: ะฟัะพะฒะตัะบะฐ ะฝะฐ ะบะธัะธะปะปะธัั/ะปะฐัะธะฝะธัั (ะฟัะพััะฐั ัะฒัะธััะธะบะฐ)
- ะะปั ัะปะพะถะฝัั ัะปััะฐะตะฒ โ DeepSeek ะพะฟัะตะดะตะปะธั ัะทัะบ
- Prompt ะดะปั DeepSeek ะดะพะปะถะตะฝ ะฒะพะทะฒัะฐัะฐัั ััััะบัััะธัะพะฒะฐะฝะฝัะน JSON

**DeepSeek Prompt (ะบะพะฝัะตะฟั):**

```
ะะตัะตะฒะตะดะธ ัะปะพะฒะพ/ััะฐะทั ะธ ะดะฐะน 2-3 ะฟัะธะผะตัะฐ ะธัะฟะพะปัะทะพะฒะฐะฝะธั.

ะัะพะดะฝัะต ะดะฐะฝะฝัะต:
- ะขะตะบัั: "{input}"
- ะะฐะฟัะฐะฒะปะตะฝะธะต: {source_lang} โ {target_lang}

ะะตัะฝะธ JSON:
{
  "translation": "ะพัะฝะพะฒะฝะพะน ะฟะตัะตะฒะพะด",
  "alternatives": ["ะฐะปััะตัะฝะฐัะธะฒะฐ1", "ะฐะปััะตัะฝะฐัะธะฒะฐ2"],
  "examples": [
    {"original": "...", "translated": "..."},
    {"original": "...", "translated": "..."}
  ]
}
```

---

### F3: ะะตะดะฐะบัะธัะพะฒะฐะฝะธะต ะบะฐััะพัะบะธ

**ะัะธะพัะธัะตั:** P1

**ะฆะตะปั:** ะัะฟัะฐะฒะธัั ะฟะตัะตะฒะพะด ะธะปะธ ะฟัะธะผะตัั ะตัะปะธ AI ะพัะธะฑัั.

**User Story:**
> ะะฐะบ ะฟะพะปัะทะพะฒะฐัะตะปั, ั ัะพัั ะธัะฟัะฐะฒะธัั ะบะฐััะพัะบั, ะตัะปะธ ะฟะตัะตะฒะพะด ะฝะตัะพัะฝัะน.

**Flow:**

```
User: [โ๏ธ ะะตะดะฐะบัะธัะพะฒะฐัั] (callback ะพั ะบะฐััะพัะบะธ)

Bot: ะงัะพ ะธะทะผะตะฝะธัั?
     
     [๐ ะะตัะตะฒะพะด] [๐ ะัะธะผะตัั] [๐ ะฃะดะฐะปะธัั]

User: [๐ ะะตัะตะฒะพะด]

Bot: ะขะตะบััะธะน ะฟะตัะตะฒะพะด: ะฒัะทะพะฒ, ะธัะฟััะฐะฝะธะต
     
     ะัะฟัะฐะฒั ะฝะพะฒัะน ะฟะตัะตะฒะพะด:

User: ะฒัะทะพะฒ, ัะปะพะถะฝะฐั ะทะฐะดะฐัะฐ

Bot: โ ะะตัะตะฒะพะด ะพะฑะฝะพะฒะปัะฝ
     
     challenge โ ะฒัะทะพะฒ, ัะปะพะถะฝะฐั ะทะฐะดะฐัะฐ
```

**Acceptance Criteria:**
- [ ] ะะตะดะฐะบัะธัะพะฒะฐะฝะธะต ะฟะตัะตะฒะพะดะฐ (ัะตะบััะพะฒัะน ะฒะฒะพะด)
- [ ] ะะตะดะฐะบัะธัะพะฒะฐะฝะธะต ะฟัะธะผะตัะพะฒ (ัะตะบััะพะฒัะน ะฒะฒะพะด, ะบะฐะถะดัะน ั ะฝะพะฒะพะน ัััะพะบะธ)
- [ ] ะฃะดะฐะปะตะฝะธะต ะบะฐััะพัะบะธ ั ะฟะพะดัะฒะตัะถะดะตะฝะธะตะผ
- [ ] ะะพะทะฒัะฐั ะบ ะพะฑััะฝะพะผั ัะตะถะธะผั ะฟะพัะปะต ัะตะดะฐะบัะธัะพะฒะฐะฝะธั

**ะขะตัะฝะธัะตัะบะธะต ะทะฐะผะตัะบะธ:**
- ะกะพััะพัะฝะธะต "ะพะถะธะดะฐะฝะธะต ะฒะฒะพะดะฐ" ััะฐะฝะธัั ะฒ ะฟะฐะผััะธ ั ะฟัะธะฒัะทะบะพะน ะบ CardId
- Timeout 5 ะผะธะฝัั ะฝะฐ ัะตะดะฐะบัะธัะพะฒะฐะฝะธะต

---

### F4: ะะพะฒัะพัะตะฝะธะต ะบะฐััะพัะตะบ โ ัะตะถะธะผ "ะัะฟะพะผะธะฝะฐัั"

**ะัะธะพัะธัะตั:** P0

**ะฆะตะปั:** ะัะพะนัะธ ะบะฐััะพัะบะธ ั ะผะธะฝะธะผัะผะพะผ ะดะตะนััะฒะธะน.

**User Story:**
> ะะฐะบ ะฟะพะปัะทะพะฒะฐัะตะปั, ั ัะพัั ะฑััััะพ ะฟัะพะนัะธ ะบะฐััะพัะบะธ, ะพัะตะฝะธะฒะฐั ะทะฝะฐั/ะฝะต ะทะฝะฐั.

**Flow:**

```
Bot: ๐ ะะฐััะพัะบะฐ 1/20
     
     challenge
     
     [๐ ะะพะบะฐะทะฐัั ะฟะตัะตะฒะพะด]

User: [๐ ะะพะบะฐะทะฐัั ะฟะตัะตะฒะพะด]

Bot: challenge โ ะฒัะทะพะฒ, ะธัะฟััะฐะฝะธะต
     
     โข This is a real challenge
     
     [โ ะะต ะทะฝะฐะป] [โ ะะฝะฐะป]

User: [โ ะะฝะฐะป]

Bot: ๐ ะะฐััะพัะบะฐ 2/20
     
     opportunity
     
     [๐ ะะพะบะฐะทะฐัั ะฟะตัะตะฒะพะด]

... (ะฟัะพะดะพะปะถะฐะตััั ะดะพ 20 ะธะปะธ ะฟะพะบะฐ ะตััั ะบะฐััะพัะบะธ)

Bot: ๐ ะกะตััะธั ะทะฐะฒะตััะตะฝะฐ!
     
     โ ะะฝะฐะป: 15
     โ ะะพะฒัะพัะธัั: 5
     
     ะกะปะตะดัััะตะต ะฟะพะฒัะพัะตะฝะธะต ะฒ 14:00
```

**Acceptance Criteria:**
- [ ] ะะพะบะฐะท ััะพะฝัะฐ ะบะฐััะพัะบะธ
- [ ] ะะฝะพะฟะบะฐ ัะฐัะบัััะธั ะฟะตัะตะฒะพะดะฐ
- [ ] ะะฝะพะฟะบะธ ะพัะตะฝะบะธ ะทะฝะฐะป/ะฝะต ะทะฝะฐะป
- [ ] ะกััััะธะบ ะฟัะพะณัะตััะฐ (1/20)
- [ ] ะัะพะณะพะฒะฐั ััะฐัะธััะธะบะฐ ัะตััะธะธ
- [ ] ะะฑะฝะพะฒะปะตะฝะธะต SRS ะฟะพัะปะต ะบะฐะถะดะพะน ะพัะตะฝะบะธ

**ะขะตัะฝะธัะตัะบะธะต ะทะฐะผะตัะบะธ:**
- ะะฐััะพัะบะธ ะฒัะฑะธัะฐัััั ะฟะพ NextReviewAt <= now
- ะกะพััะธัะพะฒะบะฐ: ัะฝะฐัะฐะปะฐ ะฟัะพััะพัะตะฝะฝัะต, ะฟะพัะพะผ ะฟะพ EaseFactor (ัะปะพะถะฝัะต ะฟะตัะฒัะผะธ)
- "ะะต ะทะฝะฐะป" โ NextReviewAt = now + 1 ะผะธะฝััะฐ (ะฟะพะบะฐะทะฐัั ัะฝะพะฒะฐ ะฒ ััะพะน ัะตััะธะธ)
- "ะะฝะฐะป" โ ะฟะตัะตัััั ะฟะพ SRS

---

### F5: ะะพะฒัะพัะตะฝะธะต ะบะฐััะพัะตะบ โ ัะตะถะธะผ "ะะตัะฐัะฐัั"

**ะัะธะพัะธัะตั:** P0

**ะฆะตะปั:** ะะบัะธะฒะฝะพะต ะฒัะฟะพะผะธะฝะฐะฝะธะต ัะตัะตะท ะฒะฒะพะด ะฟะตัะตะฒะพะดะฐ.

**User Story:**
> ะะฐะบ ะฟะพะปัะทะพะฒะฐัะตะปั, ั ัะพัั ะฟะตัะฐัะฐัั ะฟะตัะตะฒะพะด ัะฐะผ ะดะปั ะปัััะตะณะพ ะทะฐะฟะพะผะธะฝะฐะฝะธั.

**Flow:**

```
Bot: ๐ ะะฐััะพัะบะฐ 1/20
     
     challenge
     
     ะะฐะฟะธัะธ ะฟะตัะตะฒะพะด:

User: ะฒัะทะพะฒ

Bot: โ ะะตัะฝะพ!
     
     challenge โ ะฒัะทะพะฒ, ะธัะฟััะฐะฝะธะต
     
     ๐ ะะฐััะพัะบะฐ 2/20
     
     opportunity
     
     ะะฐะฟะธัะธ ะฟะตัะตะฒะพะด:

User: ัะฐะฝั

Bot: โ ะะพััะธ! 
     
     opportunity โ ะฒะพะทะผะพะถะฝะพััั, ัะฐะฝั
     
     [โ ะะฐััะธัะฐัั] [โ ะะต ะทะฐััะธััะฒะฐัั]
```

**Acceptance Criteria:**
- [ ] ะะถะธะดะฐะฝะธะต ัะตะบััะพะฒะพะณะพ ะฒะฒะพะดะฐ
- [ ] ะกัะฐะฒะฝะตะฝะธะต ั ะฟะตัะตะฒะพะดะพะผ (fuzzy matching)
- [ ] ะขะพัะฝะพะต ัะพะฒะฟะฐะดะตะฝะธะต โ ะฐะฒัะพะทะฐััั
- [ ] ะงะฐััะธัะฝะพะต ัะพะฒะฟะฐะดะตะฝะธะต โ ะฒัะฑะพั ะฟะพะปัะทะพะฒะฐัะตะปั
- [ ] ะะตะฒะตัะฝะพ โ ะฟะพะบะฐะทะฐัั ะฟัะฐะฒะธะปัะฝัะน ะพัะฒะตั, "ะะต ะทะฝะฐะป"
- [ ] ะะพะทะผะพะถะฝะพััั ะฟัะพะฟัััะธัั (/skip)

**ะขะตัะฝะธัะตัะบะธะต ะทะฐะผะตัะบะธ:**
- Fuzzy matching: Levenshtein distance ะธะปะธ contains
- ะฃัะธััะฒะฐัั ะฐะปััะตัะฝะฐัะธะฒะฝัะต ะฟะตัะตะฒะพะดั
- ะะณะฝะพัะธัะพะฒะฐัั ัะตะณะธััั ะธ ะปะธัะฝะธะต ะฟัะพะฑะตะปั

---

### F6: Push-ะฝะฐะฟะพะผะธะฝะฐะฝะธั ั ะบะฐััะพัะบะพะน

**ะัะธะพัะธัะตั:** P0

**ะฆะตะปั:** ะะพั ัะฐะผ ะธะฝะธัะธะธััะตั ะพะฑััะตะฝะธะต ะฒ ะทะฐะดะฐะฝะฝะพะต ะฒัะตะผั.

**User Story:**
> ะะฐะบ ะฟะพะปัะทะพะฒะฐัะตะปั, ั ัะพัั ะฟะพะปััะฐัั ะบะฐััะพัะบะธ ะฒ ัะดะพะฑะฝะพะต ะฒัะตะผั ะฑะตะท ะฝะตะพะฑัะพะดะธะผะพััะธ ะทะฐะฟััะบะฐัั ะฑะพัะฐ.

**Flow:**

```
Bot: โฐ ะัะตะผั ะฟะพะฒัะพัะตะฝะธั! (5 ะบะฐััะพัะตะบ ะถะดัั)
     
     ๐ ะะฐััะพัะบะฐ 1/5
     
     challenge
     
     [๐ ะะพะบะฐะทะฐัั ะฟะตัะตะฒะพะด]
```

**Acceptance Criteria:**
- [ ] ะัะฟัะฐะฒะบะฐ ะฒ ะฝะฐัััะพะตะฝะฝะพะต ะฒัะตะผั (ั ััััะพะผ ัะฐะนะผะทะพะฝั)
- [ ] 3 ะฝะฐะฟะพะผะธะฝะฐะฝะธั ะฒ ะดะตะฝั (ะตัะปะธ ะตััั ะบะฐััะพัะบะธ)
- [ ] ะะต ะพัะฟัะฐะฒะปััั ะตัะปะธ ะดะฝะตะฒะฝะฐั ัะตะปั ะฒัะฟะพะปะฝะตะฝะฐ
- [ ] ะะต ะพัะฟัะฐะฒะปััั ะตัะปะธ ะฝะตั ะบะฐััะพัะตะบ ะฝะฐ ะฟะพะฒัะพัะตะฝะธะต
- [ ] ะกัะฐะทั ะฟะพะบะฐะทัะฒะฐัั ะฟะตัะฒัั ะบะฐััะพัะบั (ะฝะต ะฟัะพััะพ ัะฒะตะดะพะผะปะตะฝะธะต)

**ะขะตัะฝะธัะตัะบะธะต ะทะฐะผะตัะบะธ:**
- Background job ะฟัะพะฒะตััะตั ะบะฐะถะดัั ะผะธะฝััั
- ะััะฟะฟะธัะพะฒะฐัั ะฟะพะปัะทะพะฒะฐัะตะปะตะน ะฟะพ ReminderTime
- ะฃัะธััะฒะฐัั TodayReviewed < DailyGoal
- ะัะธ ะพัะธะฑะบะต ะพัะฟัะฐะฒะบะธ (ะฑะพั ะทะฐะฑะปะพะบะธัะพะฒะฐะฝ) โ ะฟะพะผะตัะธัั IsActive = false

---

### F7: ะะทะฒะปะตัะตะฝะธะต ัะปะพะฒ ะธะท ัะตะบััะฐ

**ะัะธะพัะธัะตั:** P1

**ะฆะตะปั:** ะกะพะทะดะฐัั ะบะพะปะพะดั ะธะท ัะตะบััะฐ, ะธะทะฒะปะตะบะฐั ัะพะปัะบะพ ะฝะพะฒัะต/ัะปะพะถะฝัะต ัะปะพะฒะฐ.

**User Story:**
> ะะฐะบ ะฟะพะปัะทะพะฒะฐัะตะปั, ั ัะพัั ะพัะฟัะฐะฒะธัั ัะตะบัั ะธ ะฟะพะปััะธัั ะบะฐััะพัะบะธ ัะพะปัะบะพ ะดะปั ัะปะพะฒ, ะบะพัะพััะต ั ะตัั ะฝะต ะทะฝะฐั.

**Flow:**

```
User: [ะัะฟัะฐะฒะปัะตั ะดะปะธะฝะฝัะน ัะตะบัั ะฝะฐ ะฐะฝะณะปะธะนัะบะพะผ, 500+ ัะธะผะฒะพะปะพะฒ]

Bot: ๐ ะะฝะฐะปะธะทะธััั ัะตะบัั...

Bot: ะะฐะนะดะตะฝะพ 12 ะฝะพะฒัั ัะปะพะฒ:
     
     1. challenge โ ะฒัะทะพะฒ
     2. opportunity โ ะฒะพะทะผะพะถะฝะพััั
     3. sustainable โ ัััะพะนัะธะฒัะน
     ...
     
     [โ ะกะพะทะดะฐัั ะบะฐััะพัะบะธ] [๐ ะัะฑัะฐัั ะฒัััะฝัั]

User: [โ ะกะพะทะดะฐัั ะบะฐััะพัะบะธ]

Bot: โ ะกะพะทะดะฐะฝะพ 12 ะบะฐััะพัะตะบ
     
     ะะฝะธ ะฟะพัะฒัััั ะฒ ะฑะปะธะถะฐะนัะตะผ ะฟะพะฒัะพัะตะฝะธะธ.
```

**Flow ะฒัะฑะพัะฐ ะฒัััะฝัั:**

```
User: [๐ ะัะฑัะฐัั ะฒัััะฝัั]

Bot: ะัะฑะตัะธ ัะปะพะฒะฐ ะดะปั ะธะทััะตะฝะธั:
     
     [โ] challenge โ ะฒัะทะพะฒ
     [โ] opportunity โ ะฒะพะทะผะพะถะฝะพััั
     [ ] the โ (ะฐััะธะบะปั)
     [โ] sustainable โ ัััะพะนัะธะฒัะน
     ...
     
     [๐พ ะกะพััะฐะฝะธัั ะฒัะฑัะฐะฝะฝัะต]
```

**Acceptance Criteria:**
- [ ] ะะฟัะตะดะตะปะตะฝะธะต, ััะพ ัะพะพะฑัะตะฝะธะต โ ัะตะบัั (>100 ัะธะผะฒะพะปะพะฒ? ะธะปะธ ัะฒัะธััะธะบะฐ)
- [ ] ะะทะฒะปะตัะตะฝะธะต ัะปะพะฒ ัะตัะตะท DeepSeek
- [ ] ะคะธะปัััะฐัะธั ัะถะต ะธะทะฒะตััะฝัั ัะปะพะฒ (IsLearned = true)
- [ ] ะคะธะปัััะฐัะธั ัะปะธัะบะพะผ ะฟัะพัััั (ะฐััะธะบะปะธ, ะผะตััะพะธะผะตะฝะธั)
- [ ] ะัะตะดะฟัะพัะผะพัั ัะฟะธัะบะฐ ะฟะตัะตะด ัะพะทะดะฐะฝะธะตะผ
- [ ] ะะพะทะผะพะถะฝะพััั ะฒัะฑัะฐัั ะบะพะฝะบัะตัะฝัะต ัะปะพะฒะฐ

**DeepSeek Prompt (ะบะพะฝัะตะฟั):**

```
ะัะพะฐะฝะฐะปะธะทะธััะน ัะตะบัั ะธ ะธะทะฒะปะตะบะธ ัะปะพะฒะฐ ะดะปั ะธะทััะตะฝะธั ะฐะฝะณะปะธะนัะบะพะณะพ.

ะขะตะบัั: "{text}"

ะฃะถะต ะธะทะฒะตััะฝัะต ัะปะพะฒะฐ (ะธัะบะปััะธัั): {known_words_list}

ะัะธัะตัะธะธ ะพัะฑะพัะฐ:
- ะฃัะพะฒะตะฝั B1-C1 (ะฝะต ะฑะฐะทะพะฒัะต ัะปะพะฒะฐ)
- ะะพะปะตะทะฝัะต ะดะปั ะพะฑัะตะณะพ ะฐะฝะณะปะธะนัะบะพะณะพ
- ะัะบะปััะธัั ะธะผะตะฝะฐ ัะพะฑััะฒะตะฝะฝัะต

ะะตัะฝะธ JSON:
{
  "words": [
    {
      "word": "challenge",
      "translation": "ะฒัะทะพะฒ",
      "example": "This is a challenge"
    },
    ...
  ]
}
```

---

### F8: ะะทะฒะปะตัะตะฝะธะต ัะปะพะฒ ะธะท ัะฐะนะปะฐ

**ะัะธะพัะธัะตั:** P2

**ะฆะตะปั:** ะะฑัะฐะฑะพัะฐัั ะดะพะบัะผะตะฝั ะธ ัะพะทะดะฐัั ะบะฐััะพัะบะธ.

**User Story:**
> ะะฐะบ ะฟะพะปัะทะพะฒะฐัะตะปั, ั ัะพัั ะทะฐะณััะทะธัั PDF/DOCX ะธ ะฟะพะปััะธัั ะบะฐััะพัะบะธ ะธะท ัะตะบััะฐ.

**Flow:**

```
User: [ะัะฟัะฐะฒะปัะตั ัะฐะนะป document.pdf]

Bot: ๐ ะะฑัะฐะฑะฐััะฒะฐั ัะฐะนะป...

Bot: ะะทะฒะปะตัะตะฝะพ 2,340 ัะปะพะฒ ัะตะบััะฐ.
     ๐ ะัั ะฝะพะฒัะต ัะปะพะฒะฐ...

Bot: ะะฐะนะดะตะฝะพ 45 ะฝะพะฒัั ัะปะพะฒ.
     
     ะะพะบะฐะทะฐัั ะฟะตัะฒัะต 10:
     1. sustainable โ ัััะพะนัะธะฒัะน
     2. comprehensive โ ะฒัะตะพะฑัะตะผะปััะธะน
     ...
     
     [โ ะกะพะทะดะฐัั ะฒัะต 45] [๐ ะัะฑัะฐัั] [๐ ะะพะบะฐะทะฐัั ะฒัะต]
```

**ะะพะดะดะตัะถะธะฒะฐะตะผัะต ัะพัะผะฐัั:**
- TXT
- PDF (ัะตะบััะพะฒัะน ัะปะพะน)
- DOCX

**Acceptance Criteria:**
- [ ] ะัะธัะผ ัะฐะนะปะพะฒ ัะตัะตะท Telegram
- [ ] ะะทะฒะปะตัะตะฝะธะต ัะตะบััะฐ ะธะท PDF (ะฑะตะท OCR ะดะปั MVP)
- [ ] ะะทะฒะปะตัะตะฝะธะต ัะตะบััะฐ ะธะท DOCX
- [ ] ะะธะผะธั ัะฐะทะผะตัะฐ ัะฐะนะปะฐ (5MB?)
- [ ] ะขะพั ะถะต flow ััะพ ะธ F7 ะฟะพัะปะต ะธะทะฒะปะตัะตะฝะธั ัะตะบััะฐ

**ะขะตัะฝะธัะตัะบะธะต ะทะฐะผะตัะบะธ:**
- PDF: PdfPig ะธะปะธ iTextSharp
- DOCX: DocumentFormat.OpenXml
- ะะพะปััะธะต ัะฐะนะปั ะพะฑัะฐะฑะฐััะฒะฐัั async ั ะฟัะพะณัะตััะพะผ

---

### F9: ะกัะฐัะธััะธะบะฐ ะฟะพะปัะทะพะฒะฐัะตะปั

**ะัะธะพัะธัะตั:** P1

**ะฆะตะปั:** ะะพัะธะฒะธัะพะฒะฐัั ัะตัะตะท ะฒะธะทัะฐะปะธะทะฐัะธั ะฟัะพะณัะตััะฐ.

**User Story:**
> ะะฐะบ ะฟะพะปัะทะพะฒะฐัะตะปั, ั ัะพัั ะฒะธะดะตัั ัะฒะพะน ะฟัะพะณัะตัั ะธ streak.

**Flow:**

```
User: /stats

Bot: ๐ ะขะฒะพั ััะฐัะธััะธะบะฐ
     
     ๐ฅ Streak: 12 ะดะฝะตะน ะฟะพะดััะด
     
     ะกะตะณะพะดะฝั: 15/20 ะบะฐััะพัะตะบ
     โโโโโโโโโโโโโโโโ 75%
     
     ะัะตะณะพ ะบะฐััะพัะตะบ: 234
     ะัััะตะฝะพ: 156 (67%)
     ะะฐ ะฟะพะฒัะพัะตะฝะธะธ: 78
     
     ๐ ะญัะฐ ะฝะตะดะตะปั:
     ะะฝ โโ  ะั โโ  ะกั โโ  ะงั โโ  ะั โโ  ะกะฑ โยท  ะั ยทยท
     
     [๐ ะะพะดัะพะฑะฝะตะต]
```

**Acceptance Criteria:**
- [ ] ะขะตะบััะธะน streak (ะดะฝะธ ะฟะพะดััะด ั ะฒัะฟะพะปะฝะตะฝะฝะพะน ัะตะปัั)
- [ ] ะัะพะณัะตัั ะทะฐ ัะตะณะพะดะฝั
- [ ] ะะฑัะตะต ะบะพะปะธัะตััะฒะพ ะบะฐััะพัะตะบ / ะฒัััะตะฝะฝัั
- [ ] ะะตะดะตะปัะฝัะน ะบะฐะปะตะฝะดะฐัั ะฐะบัะธะฒะฝะพััะธ
- [ ] ะะฑะฝะพะฒะปะตะฝะธะต streak ะฒ ะฟะพะปะฝะพัั ะฟะพ ัะฐะนะผะทะพะฝะต ะฟะพะปัะทะพะฒะฐัะตะปั

**ะขะตัะฝะธัะตัะบะธะต ะทะฐะผะตัะบะธ:**
- Streak ััะธัะฐัั ะฟะพ LastActivityAt ะธ ัะตะบััะตะน ะดะฐัะต
- ะัััะตะฝะฝะฐั ะบะฐััะพัะบะฐ: IntervalDays >= 21 (ััะปะพะฒะฝะพ)
- ะฅัะฐะฝะธัั ะฝะตะดะตะปัะฝัั ะธััะพัะธั ะฒ JSON ะฟะพะปะต

---

### F10: ะะฐัััะพะนะบะธ

**ะัะธะพัะธัะตั:** P1

**ะฆะตะปั:** ะะฐัั ะฒะพะทะผะพะถะฝะพััั ะธะทะผะตะฝะธัั ะฟะฐัะฐะผะตััั ะฟะพัะปะต ะพะฝะฑะพัะดะธะฝะณะฐ.

**Flow:**

```
User: /settings

Bot: โ๏ธ ะะฐัััะพะนะบะธ
     
     ๐ ะฏะทัะบ: ะะฝะณะปะธะนัะบะธะน โ ะัััะบะธะน
     ๐ ะะตะถะธะผ: ะัะฟะพะผะธะฝะฐัั
     ๐ฏ ะฆะตะปั: 20 ะบะฐััะพัะตะบ/ะดะตะฝั
     โฐ ะะฐะฟะพะผะธะฝะฐะฝะธั: 9:00, 14:00, 20:00
     ๐ ะขะฐะนะผะทะพะฝะฐ: Europe/Moscow
     
     [๐ ะฏะทัะบ] [๐ ะะตะถะธะผ] [๐ฏ ะฆะตะปั]
     [โฐ ะัะตะผั] [๐ ะขะฐะนะผะทะพะฝะฐ]
```

**Acceptance Criteria:**
- [ ] ะัะพัะผะพัั ัะตะบััะธั ะฝะฐัััะพะตะบ
- [ ] ะะทะผะตะฝะตะฝะธะต ะบะฐะถะดะพะณะพ ะฟะฐัะฐะผะตััะฐ
- [ ] Inline-ะบะฝะพะฟะบะธ ะดะปั ะฑััััะพะณะพ ะฒัะฑะพัะฐ
- [ ] ะกะพััะฐะฝะตะฝะธะต ะธะทะผะตะฝะตะฝะธะน ััะฐะทั

---

### F11: ะัะพัะผะพัั ะธ ัะฟัะฐะฒะปะตะฝะธะต ะบะฐััะพัะบะฐะผะธ

**ะัะธะพัะธัะตั:** P2

**ะฆะตะปั:** ะัะพัะผะพััะตัั ัะฒะพะธ ะบะฐััะพัะบะธ, ะฝะฐะนัะธ ะธ ัะดะฐะปะธัั.

**Flow:**

```
User: /cards

Bot: ๐ ะขะฒะพะธ ะบะฐััะพัะบะธ (234)
     
     [๐ ะะพะธัะบ] [๐ ะกะตะณะพะดะฝั ะฝะฐ ะฟะพะฒัะพัะตะฝะธะต]
     [โ ะัััะตะฝะฝัะต] [๐ ะะพะฒัะต]

User: [๐ ะะพะธัะบ]

Bot: ะะฒะตะดะธ ัะปะพะฒะพ ะดะปั ะฟะพะธัะบะฐ:

User: chall

Bot: ะะฐะนะดะตะฝะพ 2 ะบะฐััะพัะบะธ:
     
     1. challenge โ ะฒัะทะพะฒ
        ะกะปะตะดัััะตะต ะฟะพะฒัะพัะตะฝะธะต: ะทะฐะฒััะฐ
        [๐] [โ๏ธ] [๐]
     
     2. challenging โ ัะปะพะถะฝัะน
        ะกะปะตะดัััะตะต ะฟะพะฒัะพัะตะฝะธะต: ัะตัะตะท 5 ะดะฝะตะน
        [๐] [โ๏ธ] [๐]
```

**Acceptance Criteria:**
- [ ] ะะพะธัะบ ะฟะพ ัะตะบััั ะบะฐััะพัะบะธ
- [ ] ะคะธะปัััั: ะฝะฐ ัะตะณะพะดะฝั, ะฒัััะตะฝะฝัะต, ะฝะพะฒัะต
- [ ] ะัะพัะผะพัั ะดะตัะฐะปะตะน ะบะฐััะพัะบะธ
- [ ] ะะตะดะฐะบัะธัะพะฒะฐะฝะธะต ะธะท ัะฟะธัะบะฐ
- [ ] ะฃะดะฐะปะตะฝะธะต ะธะท ัะฟะธัะบะฐ
- [ ] ะะฐะณะธะฝะฐัะธั ะดะปั ะฑะพะปััะธั ัะฟะธัะบะพะฒ

---

### F12: ะััะฝะพะน ะทะฐะฟััะบ ัะตััะธะธ

**ะัะธะพัะธัะตั:** P1

**ะฆะตะปั:** ะะฐัะฐัั ะฟะพะฒัะพัะตะฝะธะต ะฝะต ะดะพะถะธะดะฐััั ะฝะฐะฟะพะผะธะฝะฐะฝะธั.

**Flow:**

```
User: /learn

Bot: ๐ ะะพัััะฟะฝะพ ะบะฐััะพัะตะบ: 23
     
     ะกะตะณะพะดะฝั ะฟัะพะนะดะตะฝะพ: 5/20
     
     [โถ๏ธ ะะฐัะฐัั] [โญ ะัะพะฟัััะธัั ัะตะณะพะดะฝั]

User: [โถ๏ธ ะะฐัะฐัั]

Bot: ๐ ะะฐััะพัะบะฐ 1/15
     
     challenge
     
     [๐ ะะพะบะฐะทะฐัั ะฟะตัะตะฒะพะด]
```

**Acceptance Criteria:**
- [ ] ะะพะบะฐะท ะบะพะปะธัะตััะฒะฐ ะดะพัััะฟะฝัั ะบะฐััะพัะตะบ
- [ ] ะะพะบะฐะท ะฟัะพะณัะตััะฐ ะทะฐ ะดะตะฝั
- [ ] ะะฐะฟััะบ ัะตััะธะธ
- [ ] ะะพะทะผะพะถะฝะพััั ะฟัะพะฟัััะธัั (ะฝะต ะปะพะผะฐะตั streak ะตัะปะธ ัะถะต ะฑัะปะฐ ะฐะบัะธะฒะฝะพััั)

---

## ะััะธัะตะบัััะฐ

### ะกะปะพะธ ะฟัะธะปะพะถะตะฝะธั

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    Telegram.Bot Handlers                     โ
โ         (Commands, Messages, Callbacks)                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                              โ
                              โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    Application Services                      โ
โ   CardService, ReviewService, UserService, StatsService     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                              โ
                              โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    Domain / Core                             โ
โ          Entities, SRS Engine, Language Detection           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                              โ
                              โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    Infrastructure                            โ
โ     EF Core, DeepSeek Client, File Extractors, Hangfire    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะกัััะบัััะฐ ะฟัะพะตะบัะฐ (Feature-based)

```
LearningLanguageBot/
โโโ src/
โ   โโโ LearningLanguageBot.Bot/                    # Entry point
โ   โ   โโโ Program.cs
โ   โ   โโโ appsettings.json
โ   โ   โโโ Handlers/
โ   โ   โ   โโโ UpdateRouter.cs                     # ะะพััะธะฝะณ updates
โ   โ   โ   โโโ OnboardingHandler.cs                # F1
โ   โ   โ   โโโ CardCreationHandler.cs              # F2, F3
โ   โ   โ   โโโ ReviewHandler.cs                    # F4, F5, F6, F12
โ   โ   โ   โโโ TextExtractionHandler.cs            # F7, F8
โ   โ   โ   โโโ StatsHandler.cs                     # F9
โ   โ   โ   โโโ SettingsHandler.cs                  # F10
โ   โ   โ   โโโ CardsListHandler.cs                 # F11
โ   โ   โโโ State/
โ   โ       โโโ ConversationState.cs                # In-memory state
โ   โ
โ   โโโ LearningLanguageBot.Core/                   # Domain logic
โ   โ   โโโ Entities/
โ   โ   โ   โโโ User.cs
โ   โ   โ   โโโ Card.cs
โ   โ   โ   โโโ ReviewLog.cs
โ   โ   โโโ Services/
โ   โ   โ   โโโ CardService.cs
โ   โ   โ   โโโ ReviewService.cs
โ   โ   โ   โโโ SrsEngine.cs
โ   โ   โ   โโโ UserService.cs
โ   โ   โ   โโโ StatsService.cs
โ   โ   โโโ Interfaces/
โ   โ       โโโ ITranslationService.cs
โ   โ       โโโ ITextExtractor.cs
โ   โ
โ   โโโ LearningLanguageBot.Infrastructure/         # External
โ   โ   โโโ DeepSeek/
โ   โ   โ   โโโ DeepSeekClient.cs
โ   โ   โ   โโโ DeepSeekTranslationService.cs
โ   โ   โ   โโโ DeepSeekWordExtractor.cs
โ   โ   โโโ FileExtraction/
โ   โ   โ   โโโ PdfExtractor.cs
โ   โ   โ   โโโ DocxExtractor.cs
โ   โ   โโโ Persistence/
โ   โ   โ   โโโ AppDbContext.cs
โ   โ   โ   โโโ Configurations/
โ   โ   โ   โโโ Migrations/
โ   โ   โโโ Jobs/
โ   โ       โโโ ReminderJob.cs
โ   โ       โโโ StreakResetJob.cs
โ   โ
โ   โโโ LearningLanguageBot.Shared/                 # DTOs, Constants
โ       โโโ Constants/
โ       โ   โโโ Languages.cs
โ       โโโ Models/
โ           โโโ TranslationResult.cs
โ
โโโ tests/
โ   โโโ LearningLanguageBot.Core.Tests/
โ   โโโ LearningLanguageBot.Infrastructure.Tests/
โ
โโโ docker-compose.yml
โโโ Dockerfile
โโโ README.md
```

---

## SRS ะะปะณะพัะธัะผ (ัะฟัะพััะฝะฝัะน SM-2)

**ะะฐัะฐะผะตััั ะบะฐััะพัะบะธ:**
- `Repetitions` โ ะบะพะปะธัะตััะฒะพ ััะฟะตัะฝัั ะฟะพะฒัะพัะตะฝะธะน ะฟะพะดััะด
- `EaseFactor` โ ะผะฝะพะถะธัะตะปั ะธะฝัะตัะฒะฐะปะฐ (ะฝะฐัะฐะปัะฝะพะต 2.5)
- `IntervalDays` โ ัะตะบััะธะน ะธะฝัะตัะฒะฐะป
- `NextReviewAt` โ ะบะพะณะดะฐ ะฟะพะบะฐะทะฐัั

**ะะพะณะธะบะฐ:**

| ะัะฒะตั | ะะตะนััะฒะธะต |
|-------|----------|
| ะะต ะทะฝะฐะป | Repetitions = 0, IntervalDays = 0, NextReviewAt = +1 ะผะธะฝ |
| ะะฝะฐะป (ะฟะตัะฒัะน ัะฐะท) | IntervalDays = 1 |
| ะะฝะฐะป (ะฒัะพัะพะน ัะฐะท) | IntervalDays = 3 |
| ะะฝะฐะป (ััะตัะธะน+ ัะฐะท) | IntervalDays = IntervalDays ร EaseFactor |

**EaseFactor:**
- "ะะต ะทะฝะฐะป" ะฝะตัะบะพะปัะบะพ ัะฐะท โ ัะผะตะฝััะฐะตััั (min 1.3)
- "ะะฝะฐะป" ััะฐะฑะธะปัะฝะพ โ ะพััะฐัััั ะธะปะธ ัะฐัััั (max 2.5)

---

## ะะปะฐะฝ ัะตะฐะปะธะทะฐัะธะธ

### Phase 1: MVP Core (2-3 ะฝะตะดะตะปะธ)
- [ ] F1: Onboarding (ะฑะฐะทะพะฒัะน)
- [ ] F2: ะกะพะทะดะฐะฝะธะต ะบะฐััะพัะบะธ ะธะท ัะปะพะฒะฐ
- [ ] F4: ะะพะฒัะพัะตะฝะธะต โ ัะตะถะธะผ "ะัะฟะพะผะธะฝะฐัั"
- [ ] F6: Push-ะฝะฐะฟะพะผะธะฝะฐะฝะธั
- [ ] ะะฐะทะพะฒะฐั ะธะฝัะตะณัะฐัะธั DeepSeek
- [ ] Docker + PostgreSQL

### Phase 2: Full Review (1-2 ะฝะตะดะตะปะธ)
- [ ] F5: ะะพะฒัะพัะตะฝะธะต โ ัะตะถะธะผ "ะะตัะฐัะฐัั"
- [ ] F3: ะะตะดะฐะบัะธัะพะฒะฐะฝะธะต ะบะฐััะพัะบะธ
- [ ] F12: ะััะฝะพะน ะทะฐะฟััะบ ัะตััะธะธ
- [ ] ะะพะปะฝะพัะตะฝะฝัะน SRS

### Phase 3: Text Processing (1-2 ะฝะตะดะตะปะธ)
- [ ] F7: ะะทะฒะปะตัะตะฝะธะต ะธะท ัะตะบััะฐ
- [ ] F8: ะะทะฒะปะตัะตะฝะธะต ะธะท ัะฐะนะปะฐ
- [ ] ะฃะผะฝะฐั ัะธะปัััะฐัะธั ะธะทะฒะตััะฝัั ัะปะพะฒ

### Phase 4: Polish (1 ะฝะตะดะตะปั)
- [ ] F9: ะกัะฐัะธััะธะบะฐ
- [ ] F10: ะะฐัััะพะนะบะธ
- [ ] F11: ะัะพัะผะพัั ะบะฐััะพัะตะบ
- [ ] ะฃะปัััะตะฝะธะต UX ะฟะพ ัะธะดะฑะตะบั

---

## ะะธัะบะธ ะธ ะผะธัะธะณะฐัะธะธ

| ะะธัะบ | ะะตัะพััะฝะพััั | ะะธัะธะณะฐัะธั |
|------|-------------|-----------|
| DeepSeek rate limits | ะกัะตะดะฝัั | ะััะธัะพะฒะฐะฝะธะต ะฟะพะฟัะปััะฝัั ัะปะพะฒ, ะพัะตัะตะดั ะทะฐะฟัะพัะพะฒ |
| DeepSeek ะบะฐัะตััะฒะพ ะฟะตัะตะฒะพะดะฐ | ะะธะทะบะฐั | ะะพะทะผะพะถะฝะพััั ัะตะดะฐะบัะธัะพะฒะฐะฝะธั, fallback ะฝะฐ ะดััะณะพะน LLM |
| ะะพะปัะทะพะฒะฐัะตะปั ะทะฐะฑะปะพะบะธัะพะฒะฐะป ะฑะพัะฐ | ะััะพะบะฐั | ะัะพะฒะตัะบะฐ ะฟะตัะตะด ะพัะฟัะฐะฒะบะพะน, IsActive ัะปะฐะณ |
| ะะพะปััะธะต ัะฐะนะปั | ะกัะตะดะฝัั | ะะธะผะธั 5MB, async ะพะฑัะฐะฑะพัะบะฐ |
| ะะฝะพะณะพ ะฟะพะปัะทะพะฒะฐัะตะปะตะน ะพะดะฝะพะฒัะตะผะตะฝะฝะพ | ะะธะทะบะฐั (ะฝะฐ ััะฐััะต) | ะัะตัะตะดะธ, ะณะพัะธะทะพะฝัะฐะปัะฝะพะต ะผะฐัััะฐะฑะธัะพะฒะฐะฝะธะต ะฟะพะทะถะต |

---

## ะัะธะฝัััะต ัะตัะตะฝะธั

| ะะพะฟัะพั | ะะตัะตะฝะธะต |
|--------|---------|
| ะะธะผะธั ะบะฐััะพัะตะบ ะฝะฐ ะฟะพะปัะทะพะฒะฐัะตะปั | ะะตั ะปะธะผะธัะฐ |
| ะัะฑะปะธะบะฐัั ัะปะพะฒ | ะัะธ ะดะพะฑะฐะฒะปะตะฝะธะธ ัััะตััะฒัััะตะณะพ ัะปะพะฒะฐ โ ะฝะต ัะพะทะดะฐะฒะฐัั ะฝะพะฒัั ะบะฐััะพัะบั, ัะพะพะฑัะธัั ััะพ ัะถะต ะตััั |
| ะะพะฝัะตะบัั ะธะท ะธััะพัะฝะธะบะฐ | ะะต ัะพััะฐะฝัะตะผ ะพัะบัะดะฐ ะฟัะธัะปะพ ัะปะพะฒะพ |
| ะะทะฒััะบะฐ (TTS) | ะะต ัะตะฐะปะธะทัะตะผ |
| ะญะบัะฟะพัั ะฒ Anki | ะะต ัะตะฐะปะธะทัะตะผ |
